<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.1/github-markdown.min.css">

    <style>
        /* 自定义样式以进一步模拟 GitHub 风格 */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e; /* 模拟 GitHub 的文本颜色 */
            background-color: #fff; /* 背景色 */
            margin: 0;
            padding: 0;
        }
        
        /* 移除 .container 样式，让 markdown-body 直接作为主要内容区域 */
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px; /* 模拟 GitHub 的内容宽度 */
            margin: 30px auto; /* 保持内容居中并有上下边距 */
            padding: 45px; /* 保持内容内边距 */
        }
        
        /* 调整标题间距，更符合 GitHub */
        .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            /* 移除 h1/h2 默认下划线，让 github-markdown-css 处理 */
            border-bottom: none; 
        }

        /* 为所有标题添加下划线，作为分块作用的横线 */
        .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
            padding-bottom: 0.3em; /* 给横线留出一些空间 */
            border-bottom: 1px solid #eaecef; /* 细灰色横线 */
        }

        .markdown-body h1 { font-size: 2em; }
        .markdown-body h2 { font-size: 1.5em; }
        .markdown-body h3 { font-size: 1.25em; }

        .markdown-body hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #e1e4e8;
            border: 0;
        }

        .markdown-body p {
            margin-top: 0;
            margin-bottom: 16px;
        }

        /* 调整代码块背景和颜色 */
        .markdown-body pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa; /* GitHub 默认代码块背景 */
            border-radius: 6px;
        }
        .markdown-body code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: rgba(27,31,35,.05); /* 行内代码背景 */
            border-radius: 6px;
        }
        .markdown-body pre > code {
            padding: 0;
            margin: 0;
            word-break: normal;
            white-space: pre;
            background: transparent;
        }

        /* 调整引用块 */
        .markdown-body blockquote {
            padding: 0 1em;
            color: #6a737d;
            border-left: 0.25em solid #dfe2e5;
        }

        /* 调整链接颜色 */
        .markdown-body a {
            color: #0366d6; /* GitHub 链接蓝色 */
            text-decoration: none;
        }
        .markdown-body a:hover {
            text-decoration: underline;
        }

    </style>

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']] // 行内公式
            },
            svg: {
                displayAlign: 'left', // 块级公式默认左对齐，但可以通过 CSS 调整
                matchFontHeight: false // 避免 MathJax 影响字体高度
            },
            options: {
                renderActions: {
                    // https://docs.mathjax.org/en/latest/options/output/menu.html
                    addMenu: [25, '\u22EE', {
                        menu: [
                            {
                                type: 'submenu',
                                title: 'MathML',
                                content: [
                                    {
                                        cmd: 'Toggle',
                                        variable: 'renderer',
                                        value: 'MathML',
                                        label: 'MathML',
                                        id: 'MathML',
                                        action: (node) => {
                                            if (MathJax.startup.renderer === 'MathML') {
                                                node.setAttribute('checked', 'true');
                                            } else {
                                                node.removeAttribute('checked');
                                            }
                                        }
                                    }
                                ]
                            }
                        ]
                    }, {
                        type: 'command',
                        title: 'Settings',
                        label: 'Settings',
                        id: 'Settings',
                        action: (node) => {
                            MathJax.config.menu.execute('Settings');
                        }
                    }]
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <article class="markdown-body">
        {{ content }}
    </article>
</body>
</html>